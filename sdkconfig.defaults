# Default SDK configuration for TinyBMS Web Gateway project
# Customize via `idf.py menuconfig` and re-run configure step

# Event bus
CONFIG_TINYBMS_EVENT_BUS_DEFAULT_QUEUE_LENGTH=32

# Security defaults
CONFIG_TINYBMS_WEB_AUTH_BASIC_ENABLE=y
CONFIG_TINYBMS_WEB_AUTH_USERNAME="admin"
CONFIG_TINYBMS_WEB_AUTH_PASSWORD="changeme"

# Storage
CONFIG_TINYBMS_HISTORY_FS_ENABLE=y
CONFIG_TINYBMS_HISTORY_FS_PARTITION_LABEL="historyfs"
CONFIG_TINYBMS_HISTORY_FS_MOUNT_POINT="/history"
CONFIG_TINYBMS_HISTORY_FS_FORMAT_ON_FAIL=n
CONFIG_TINYBMS_HISTORY_ENABLE=y
CONFIG_TINYBMS_HISTORY_DIR="/history"
CONFIG_TINYBMS_HISTORY_QUEUE_LENGTH=32
CONFIG_TINYBMS_HISTORY_TASK_STACK=4096
CONFIG_TINYBMS_HISTORY_TASK_PRIORITY=4
CONFIG_TINYBMS_HISTORY_FLUSH_INTERVAL=10
CONFIG_TINYBMS_HISTORY_RETENTION_CHECK_INTERVAL=120
CONFIG_TINYBMS_HISTORY_RETENTION_DAYS=30
CONFIG_TINYBMS_HISTORY_MAX_BYTES=2621440
CONFIG_TINYBMS_HISTORY_ARCHIVE_MAX_SAMPLES=1024

# Wifi for testing
CONFIG_TINYBMS_WIFI_STA_SSID="StarTh"
CONFIG_TINYBMS_WIFI_STA_PASSWORD="Santuario1962"


# UART defaults
# connecteur X4 pin 5 → connecteur SV1 Pin 6 → GPIO37 → TXD0
# connecteur X4 pin 4 → connecteur SV1 Pin 5 → GPIO36 → RXD0
#
CONFIG_TINYBMS_UART_TX_GPIO=37
CONFIG_TINYBMS_UART_RX_GPIO=36

# MQTT defaults
CONFIG_TINYBMS_MQTT_ENABLE=y
CONFIG_TINYBMS_MQTT_BROKER_URI="mqtt://tinybms.local"
CONFIG_TINYBMS_MQTT_USERNAME=""
CONFIG_TINYBMS_MQTT_PASSWORD=""
CONFIG_TINYBMS_MQTT_KEEPALIVE=60
CONFIG_TINYBMS_MQTT_DEFAULT_QOS=1
CONFIG_TINYBMS_MQTT_RETAIN_STATUS=y
